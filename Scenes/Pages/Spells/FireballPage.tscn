[gd_scene load_steps=27 format=3 uid="uid://43caa2wj4jbq"]

[ext_resource type="Script" uid="uid://c17kxgs3gbmof" path="res://Scripts/Pages/Spells/FireballFunctionality.gd" id="1_x357h"]
[ext_resource type="Shader" uid="uid://c7bt6ipijq888" path="res://Shaders/CleanEdge.gdshader" id="2_gw2ht"]
[ext_resource type="Texture2D" uid="uid://b3lkigdedb7i2" path="res://Assets/Sprites/PageVFX/Fireball/FireballProjectileVFXTest 2 rev2-Sheet.png" id="3_gw2ht"]
[ext_resource type="Texture2D" uid="uid://8lgh2mxcltc2" path="res://Assets/Sprites/PageVFX/Fireball/FireballPageExplosionVFXSpriteSheet.png" id="4_gw2ht"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2uc81"]
shader = ExtResource("2_gw2ht")
shader_parameter/highestColor = Vector3(1, 1, 1)
shader_parameter/amount = 40
shader_parameter/similarThreshold = 0.0
shader_parameter/lineWidth = 1.0

[sub_resource type="AtlasTexture" id="AtlasTexture_bvwtg"]
atlas = ExtResource("3_gw2ht")
region = Rect2(0, 0, 31, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_8mobe"]
atlas = ExtResource("3_gw2ht")
region = Rect2(31, 0, 31, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_u0vd2"]
atlas = ExtResource("3_gw2ht")
region = Rect2(62, 0, 31, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_trqo5"]
atlas = ExtResource("3_gw2ht")
region = Rect2(93, 0, 31, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_neknn"]
atlas = ExtResource("3_gw2ht")
region = Rect2(124, 0, 31, 14)

[sub_resource type="SpriteFrames" id="SpriteFrames_neknn"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bvwtg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8mobe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u0vd2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_trqo5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_neknn")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_2uc81"]
atlas = ExtResource("4_gw2ht")
region = Rect2(0, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jcnee"]
atlas = ExtResource("4_gw2ht")
region = Rect2(128, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hieyd"]
atlas = ExtResource("4_gw2ht")
region = Rect2(256, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0mgug"]
atlas = ExtResource("4_gw2ht")
region = Rect2(384, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_e6grs"]
atlas = ExtResource("4_gw2ht")
region = Rect2(512, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_cbvmt"]
atlas = ExtResource("4_gw2ht")
region = Rect2(640, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tjuyf"]
atlas = ExtResource("4_gw2ht")
region = Rect2(768, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1rbsk"]
atlas = ExtResource("4_gw2ht")
region = Rect2(896, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0b610"]
atlas = ExtResource("4_gw2ht")
region = Rect2(1024, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ctga7"]
atlas = ExtResource("4_gw2ht")
region = Rect2(1152, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7hfe5"]
atlas = ExtResource("4_gw2ht")
region = Rect2(1280, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6nnlc"]
atlas = ExtResource("4_gw2ht")
region = Rect2(1408, 0, 128, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_mx2yp"]
atlas = ExtResource("4_gw2ht")
region = Rect2(1536, 0, 128, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_bvwtg"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2uc81")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jcnee")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hieyd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0mgug")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e6grs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cbvmt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tjuyf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1rbsk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0b610")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ctga7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7hfe5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6nnlc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mx2yp")
}],
"loop": false,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_7nort"]
radius = 8.0

[node name="Fireball" type="CharacterBody2D"]
collision_layer = 0
collision_mask = 0
script = ExtResource("1_x357h")

[node name="FireballSprite" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_2uc81")
sprite_frames = SubResource("SpriteFrames_neknn")
autoplay = "default"
frame = 3
frame_progress = 0.8058287
offset = Vector2(-9, 0)

[node name="ExplosionVFX" type="AnimatedSprite2D" parent="."]
visible = false
z_index = 5
position = Vector2(0, -16)
sprite_frames = SubResource("SpriteFrames_bvwtg")
frame = 12
frame_progress = 1.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_7nort")

[node name="LifeTimer" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 0

[node name="AreaCollisionShape2D" type="CollisionShape2D" parent="Area2D"]
shape = SubResource("CircleShape2D_7nort")

[connection signal="animation_finished" from="ExplosionVFX" to="." method="_on_explosion_vfx_animation_finished"]
[connection signal="timeout" from="LifeTimer" to="." method="_on_life_timer_timeout"]
